# Workflow Status Template

# This tracks progress through BMM methodology Analysis, Planning, and Solutioning phases.
# Implementation phase is tracked separately in sprint-status.yaml

# STATUS DEFINITIONS:
# ==================
# Initial Status (before completion):
#   - required: Must be completed to progress
#   - optional: Can be completed but not required
#   - recommended: Strongly suggested but not required
#   - conditional: Required only if certain conditions met (e.g., if_has_ui)
#
# Completion Status:
#   - {file-path}: File created/found (e.g., "docs/product-brief.md")
#   - skipped: Optional/conditional workflow that was skipped

generated: "2025-12-07"
project: "OFAC Screening Tool"
project_type: "OFAC compliance screening tool with two implementations: 1) A Streamlit webapp; 2) An Excel CDF. Both implementations share the same data layer"
selected_track: "method"
field_type: "greenfield"
brainstorm_requested: false
research_requested: false
product_brief_requested: true
workflow_path: ".bmad/bmm/workflows/workflow-status/paths/method-greenfield.yaml"

# Critical Project Constraints and Reference Documents
project_constraints:
  default_bulk_format:
    file: "sample-data/Round 2 2025-Project to Fund Response ACN INTL - 20250812.xlsx"
    note: "Default expected format for bulk screening - tool should be flexible but optimized for this structure"

  reference_documents:
    - path: "docs/conceptual-design/20251205_OFAC_Sanctions_Screening_Tools_Plan.md"
      description: "Preliminary conceptual design - technical architecture, features, matching logic"

    - path: "docs/conceptual-design/20251206_OFAC_List_Update_Policies_and_Strategy.md"
      description: "OFAC list update frequency analysis, compliance requirements, automated update strategy"
      key_points:
        - "OFAC updates 2-3 times per week (32% of days have updates)"
        - "Implement daily automated checks with manual trigger capability"
        - "Display list age and warn if >7 days old"

    - path: "docs/conceptual-design/20251206_OFAC_Data_Schemas_Analysis_and_Recommendations.md"
      description: "Data structures for common data layer - CSV triplet format (SDN + ALT + ADD)"
      key_points:
        - "Use CSV triplet: SDN.CSV (entities), ALT.CSV (aliases), ADD.CSV (addresses)"
        - "18,422 SDN records, 20,104 alternate names, 24,170 addresses"
        - "RapidFuzz library for fuzzy matching with configurable thresholds"
        - "Country-aware matching to boost/de-boost scores"

  technical_requirements:
    - "Shared ofac_matcher.py module for both Streamlit and Excel implementations"
    - "Local OFAC list caching with version management (Last-Modified header)"
    - "Humanitarian aid context detection (Syria General License 21)"
    - "Fuzzy matching with 85% default threshold using RapidFuzz"
    - "Processing time <30 seconds for 100 entries"
workflow_status:
  # Phase 0: Discovery (Optional)
  - phase: 0
    name: "Discovery"
    workflows:
      - id: "product-brief"
        status: "docs/analysis/product-brief-OFAC-20251206.md"
        agent: "analyst"
        command: "/bmad:bmm:workflows:product-brief"
        output: "Strategic product planning document"
        completed: "2025-12-07"

  # Phase 1: Planning
  - phase: 1
    name: "Planning"
    workflows:
      - id: "prd"
        status: "docs/prd.md"
        agent: "pm"
        command: "/bmad:bmm:workflows:prd"
        output: "Product Requirements Document"
        completed: "2025-12-08"

      - id: "validate-prd"
        status: "optional"
        agent: "pm"
        command: "/bmad:bmm:workflows:validate-prd"
        output: "PRD quality validation"

      - id: "create-ux-design"
        status: "docs/ux-design-specification.md"
        agent: "ux-designer"
        command: "/bmad:bmm:workflows:create-ux-design"
        output: "UX Design Specification"
        completed: "2025-12-09"
        note: "Comprehensive UX spec for Streamlit webapp (Phase 1)"

  # Phase 2: Solutioning
  - phase: 2
    name: "Solutioning"
    workflows:
      - id: "create-architecture"
        status: "required"
        agent: "architect"
        command: "/bmad:bmm:workflows:create-architecture"
        output: "System architecture document"

      - id: "create-epics-and-stories"
        status: "required"
        agent: "pm"
        command: "/bmad:bmm:workflows:create-epics-and-stories"
        output: "Epics and user stories"

      - id: "test-design"
        status: "recommended"
        agent: "tea"
        command: "/bmad:bmm:workflows:test-design"
        output: "System testability review"

      - id: "validate-architecture"
        status: "optional"
        agent: "architect"
        command: "/bmad:bmm:workflows:validate-architecture"
        output: "Architecture quality validation"

      - id: "implementation-readiness"
        status: "required"
        agent: "architect"
        command: "/bmad:bmm:workflows:implementation-readiness"
        output: "Readiness validation"

  # Phase 3: Implementation
  - phase: 3
    name: "Implementation"
    workflows:
      - id: "sprint-planning"
        status: "required"
        agent: "sm"
        command: "/bmad:bmm:workflows:sprint-planning"
        output: "Sprint plan and tracking"
